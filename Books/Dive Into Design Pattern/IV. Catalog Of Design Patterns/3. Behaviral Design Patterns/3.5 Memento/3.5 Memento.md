![[oop-159.png]]

# Concept

***Memento is a behavioral design pattern that lets you save and restore the previous state of an object without revealing the details of its implementation.***

- Memento là pattern cho phép lưu lại & khôi phục trạng thái trước đó của một object mà không tiết lộ chi tiết về việc thực hiện nó

*Hãy tưởng tượng bạn đang chơi một trò chơi xếp hình Lego. Bạn xây dựng một tòa lâu đài Lego thật đẹp. Nhưng đôi khi bạn muốn thử thay đổi một số phần của lâu đài để nó trông khác đi. Nhưng bạn lại sợ rằng nếu thay đổi, bạn sẽ không thể trở lại trạng thái ban đầu của tòa lâu đài. Vậy phải làm sao?*

# Problem

- Hãy tưởng tượng ta tạo một text editor app
	- Ngoài việc chỉnh sửa simple text, editor có thể format text, insert inline images, etc
	
- Tại một số thời điểm, ta quyết định cho phép users undo any operations đã thực hiện trên text
	- Để implementation, ta chọn cách tiếp cận trực tiếp
	- Trước khi thực hiện any operation, app ghi lại state của all objects và saves vào bộ nhớ
	- Sau đó, khi user muốn revert, app fetches bản ghi mới nhất từ history & sử dụng nó để restore state của all objects

![[oop-160.png]]

