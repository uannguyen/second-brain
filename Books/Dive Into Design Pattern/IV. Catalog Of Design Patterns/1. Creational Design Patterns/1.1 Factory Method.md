
# KhÃ¡i niá»‡m

- Cung cáº¥p má»™t interface Ä‘á»ƒ táº¡o cÃ¡c Ä‘á»‘i tÆ°á»£ng trong má»™t superclass nhÆ°ng cho phÃ©p subclass thay Ä‘á»•i loáº¡i Ä‘á»‘i tÆ°á»£ng sáº½ Ä‘Æ°á»£c táº¡o

- Äiá»u nÃ y giÃºp tÄƒng tÃ­nh flexibility cá»§a code vÃ  giáº£m sá»± phá»¥ thuá»™c vÃ o class cá»¥ thá»ƒ. Factory Method thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c há»‡ thá»‘ng mÃ  cÃ¡c objects cá»¥ thá»ƒ cáº§n Ä‘Æ°á»£c táº¡o ra theo conditions hoáº·c dynamic info tá»« user hoáº·c tá»« cÃ¡c pháº§n khÃ¡c cá»§a system

# ğŸ™ Problem 


![[oop-30.png]]

- Giáº£ sá»­ cÃ³ 1 app quáº£n lÃ½ háº­u cáº§n
- First version app chá»‰ cÃ³ thá»ƒ xá»­ lÃ½ váº­n chuyá»ƒn báº±ng xe táº£i
	=> Pháº§n lá»›n code Ä‘á»u náº±m trong Truck class
	
- Sau 1 thá»i gian, App trá»Ÿ nÃªn phá»• biáº¿n
	+ Má»—i ngÃ y cÃ³ hÃ ng chá»¥c requests y/c tá»« cÃ¡c Sea transportation companies Ä‘á»ƒ káº¿t há»£p sea logistics vÃ o App
	
- Giá» Ä‘Ã¢y, háº§u háº¿t code Ä‘á»u Ä‘Æ°á»£c ghÃ©p ná»‘i vá»›i Truck class. 
	=> Add Ships vÃ o app sáº½ y/c thay Ä‘á»•i toÃ n bá»™ codebase. 
	=> HÆ¡n ná»¯a, náº¿u sau nÃ y thÃªm báº¥t ká»³ 1 loáº¡i transportation nÃ o vÃ o app, sáº½ cáº§n pháº£i thá»±c hiá»‡n láº¡i táº¥t cáº£ nhá»¯ng thay Ä‘á»•i nÃ y
	
--- 
Cuá»‘i cÃ¹ng lÃ  sml vá»›i cÃ¡c Ä‘iá»u kiá»‡n chuyá»ƒn Ä‘á»•i behavior cá»§a App tÃ¹y thuá»™c vÃ o loáº¡i transportation objects 
if else, switch case  Ä‘á»§ cÃ¡c kiá»ƒu
	
# Solution

- Thay tháº¿ cÃ¡c cuá»™c gá»i xÃ¢y dá»±ng Ä‘á»‘i tÆ°á»£ng trá»±c tiáº¿p (sá»­ dá»¥ng toÃ¡n tá»­ `new`) báº±ng cÃ¡c cuá»™c gá»i Ä‘áº¿n má»™t `special factory method`

- CÃ¡c Ä‘á»‘i tÆ°á»£ng váº«n Ä‘Æ°á»£c táº¡o thÃ´ng qua toÃ¡n tá»­ má»›i, NhÆ°ng nÃ³ Ä‘Æ°á»£c gá»i tá»« bÃªn trong factory method

- CÃ¡c objects Ä‘Æ°á»£c returned báº±ng factory method thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ  "products".
	
	![[oop-31.png]]

- Thoáº¡t nhÃ¬n, thay Ä‘á»•i nÃ y cÃ³ váº» vÃ´ nghÄ©a, just moved constructor call tá»« pháº§n nÃ y sang pháº§n khÃ¡c cá»§a program.
	- Tuy nhiÃªn, giá» ta cÃ³ thá»ƒ override factory method trong 1 subclass vÃ  thay Ä‘á»•i products class Ä‘Æ°á»£c táº¡o ra tá»« method

- CÃ³ 1 háº¡n cháº¿ nhá»:
	+ subclass chá»‰ return vá» cÃ¡c loáº¡i products khÃ¡c nhau náº¿u cÃ¡c products cÃ³ base class hoáº·c interface chung
	+ NgoÃ i ra, factory method trong base class pháº£i cÃ³ return type lÃ  interface nÃ y 

![[oop-32.png]]	
	
	
- Cáº£ 2 classes `Truck` & `Ship` nÃªn implement `Transport` interface, trong Ä‘Ã³ declares 1 method lÃ  `deliver()`

- Má»—i class implement method nÃ y khÃ¡c nhau:
	+ `Truck` váº­n chuyá»ƒn báº±ng Ä‘Æ°á»ng bá»™
	+ `Ship` váº­n chuyá»ƒn báº±ng Ä‘Æ°á»ng thá»§y
	
- Factory method trong `ReadLogistics` class returns vá» cÃ¡c objects `truck`, factory method trong SeaLogistics class returns vá» `ships` objects


	
	
	
	
	
	
	
	